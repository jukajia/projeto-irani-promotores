<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#1f7135" />
  <title>Painel do Gestor | Supermercado Irani</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="icon" href="imagens/favicon-juka.png" type="image/png" />
</head>
<body class="bg-gray-900 text-white flex flex-col min-h-screen">

  <!-- Container fixo centralizado -->
  <div class="max-w-7xl mx-auto w-full flex-grow flex flex-col">

    <!-- 1¬∫ Container: Cabe√ßalho fixo -->
    <header class="sticky top-0 z-50 bg-gray-800 border-b border-gray-700 px-6 py-4 flex flex-col">
      
      <!-- Container superior: logo + grid 4 colunas -->
      <div class="flex items-center justify-between mb-4">

        <!-- Logo -->
        <div class="flex items-center space-x-4">
          <img src="imagens/logo-irani.png" alt="Logo Supermercado Irani" class="h-12 w-auto" />
          <h1 class="text-2xl font-bold select-none">Painel do Gestor</h1>
        </div>

        <!-- Grid 4 colunas: 3 colunas bot√µes filtros empilhados + 1 coluna √≠cones export -->
        <div class="grid grid-cols-4 gap-x-6">

          <!-- Coluna 1 filtro -->
          <div class="flex flex-col space-y-2">
            <button class="btn-filter">Todas</button>
            <button class="btn-filter">001 - Brasil</button>
            <button class="btn-filter">002 - Parque Verde</button>
            <button class="btn-filter">003 - Floresta</button>
          </div>

          <!-- Coluna 2 filtro -->
          <div class="flex flex-col space-y-2">
            <button class="btn-filter">004 - Tancredo</button>
            <button class="btn-filter">201 - Port√≠ 1</button>
            <button class="btn-filter">202 - Port√≠ 2</button>
            <!-- Espa√ßo vazio para alinhamento -->
            <div class="h-[38px]"></div>
          </div>

          <!-- Coluna 3 filtro -->
          <div class="flex flex-col space-y-2">
            <!-- Caso queira adicionar mais filtros, coloca aqui -->
          </div>

          <!-- Coluna 4: √≠cones exporta√ß√£o, alinhados topo -->
          <div class="flex flex-col space-y-2 items-center">
            <button class="btn-export" onclick="exportarExcel()" title="Exportar Excel">üì•</button>
            <button class="btn-export" onclick="exportarPDF()" title="Exportar PDF">üìÑ</button>
            <button class="btn-export" onclick="atualizarPlanilha()" title="Atualizar dados">üîÑ</button>
            <span id="statusAtualiza" class="text-xs mt-1"></span>
          </div>

        </div>
      </div>

      <!-- Barra de busca abaixo do grid -->
      <div>
        <input
          type="text"
          id="buscaGestor"
          placeholder="Buscar..."
          oninput="filtrarDadosGestor()"
          class="w-full rounded-md border border-gray-600 bg-gray-900 px-4 py-2 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-600"
        />
      </div>

    </header>

    <!-- 2¬∫ Container: tabela -->
    <main class="flex-grow px-6 py-6 overflow-auto">
      <h2 class="text-xl font-semibold mb-4">Relat√≥rio Detalhado</h2>
      <div class="overflow-auto rounded-md border border-gray-700 bg-gray-800">
        <table id="tabelaGestor" class="min-w-full table-auto text-sm text-left text-gray-300">
          <thead>
            <tr id="cabecalhoGestor" class="bg-gray-700"></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </main>

  </div>

  <!-- 3¬∫ Container: rodap√© fixo -->
  <footer class="bg-gray-800 border-t border-gray-700 text-center py-3 text-xs select-none">
    ¬© 2025 Grupo Irani. Todos os direitos reservados. Desenvolvido por Juka Produ√ß√µes. Vers√£o 1.0.0
  </footer>

  <script src="js/config.js"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="js/gestor.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log("‚úÖ Service Worker registrado:", reg.scope))
          .catch(err => console.error("‚ùå Erro ao registrar SW:", err));
      });
    }
  </script>

  <style>
    .btn-filter {
      @apply bg-green-700 hover:bg-green-600 rounded-md px-3 py-1 text-white font-semibold transition;
    }
    .btn-filter.selected {
      @apply bg-green-900;
    }
    .btn-export {
      @apply bg-gray-700 hover:bg-gray-600 rounded-full w-10 h-10 flex items-center justify-center text-white text-lg transition;
    }
  </style>
</body>
</html>
